{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","filter","handleFilterChange","react_default","a","createElement","value","onChange","PersonForm","onSubmit","newName","newNumber","handleNameChange","handleNumberChange","type","Persons","persons","deletePerson","personsToShow","person","name","toLowerCase","includes","map","key","number","onClick","Notification","content","className","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","message","setMessage","_useState11","_useState12","error","setError","useEffect","personService","initialPersons","displayNotification","setTimeout","changeNumber","window","confirm","personObject","objectSpread","returnedPerson","p","catch","length","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","find","components_Persons","res","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.aa1057c1.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filter, handleFilterChange }) => (\r\n  <div>\r\n      rajaa näytettäviä <input value={filter} onChange={handleFilterChange} />\r\n  </div>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ onSubmit, newName, newNumber, handleNameChange, handleNumberChange }) => (\r\n  <form onSubmit={onSubmit}>\r\n    <div>\r\n      nimi: <input value={newName} onChange={handleNameChange}/>\r\n    </div>\r\n    <div>\r\n      numero: <input value={newNumber} onChange={handleNumberChange}/>\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">lisää</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ filter, persons, deletePerson }) => {\r\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n  return (\r\n    <ul>\r\n        {personsToShow.map(person =>\r\n          <li key={person.name}>\r\n            {person.name} {person.number} <button onClick={deletePerson(person)}>poista</button>\r\n          </li>)}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ content, type }) => {\r\n  if (content === '') {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={type}>\r\n      {content}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n\r\n}\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove\r\n}\r\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState('')\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const displayNotification = (type, content) => {\n    if (type === 'message') {\n      setMessage(content)\n      setTimeout(() => {\n        setMessage('')\n      }, 2500)\n    } else {\n      setError(content)\n      setTimeout(() => {\n        setError('')\n      }, 2500)\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const person = persons.find(p => p.name.toLowerCase() === newName.toLowerCase())\n    if (person) {\n      changeNumber(person)\n      return\n    }\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        displayNotification('message', `Lisättiin ${returnedPerson.name}`)\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch(error => {\n        displayNotification('error', error.response.data.error)\n      })\n  }\n\n  const deletePerson = (person) => () => {\n    if (window.confirm(`Poistetaanko ${person.name}`)) {\n      personService\n        .remove(person.id)\n        .then(res => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          displayNotification('message', `Poistettiin ${person.name}`)\n        })\n        .catch(error => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          displayNotification('error', `Henkilö ${person.name} oli jo poistettu`)\n        })\n    }\n  }\n\n  const changeNumber = (person) => {\n    if (window.confirm(`${person.name} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n      const personObject = {\n        ...person,\n        number: newNumber\n      }\n\n      personService\n        .update(person.id, personObject)\n        .then(returnedPerson => {\n          setPersons(persons.map(p => p.id !== returnedPerson.id ? p : returnedPerson))\n          displayNotification('message', `Henkilön ${person.name} numero päivitettiin`)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          displayNotification('error', `Henkilö ${person.name} on jo valitettavasti poistettu palvelimelta`)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n\n      {error.length > 0 ?\n      <Notification content={error} type='error' /> :\n      <Notification content={message} type='message' />}\n\n      <Filter\n        filter={filter}\n        handleFilterChange={handleFilterChange}\n      />\n      <h1>lisää uusi</h1>\n      <PersonForm\n        onSubmit={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numerot</h2>\n      <Persons\n        filter={filter}\n        persons={persons}\n        deletePerson={deletePerson}\n      />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}